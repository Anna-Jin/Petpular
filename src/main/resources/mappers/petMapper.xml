<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.petpular.pet.dao.PetDAO">
 	<select id="selectPetByUserIdPetId" resultType="com.petpular.pet.model.Pet">
 		SELECT
 			`id`
 			,`user_id`
			, `pet_image_url`
			, `name`
			, `breed`
			, `sex`
			, `neuter`
			, `birthday`
			, `weight`
			, `disease`
			, `created_at`
			, `updated_at`
		FROM
			`pet`
		WHERE
			`id`  = #{id} AND
			`user_id` = #{userId}	
 	</select>
 	<select id="selectPetByUserId" resultType="com.petpular.pet.model.Pet">
 		SELECT
 			`id`
 			,`user_id`
			, `pet_image_url`
			, `name`
			, `breed`
			, `sex`
			, `neuter`
			, `birthday`
			, `weight`
			, `disease`
			, `created_at`
			, `updated_at`
		FROM
			`pet`
		WHERE
			`user_id` = #{userId}
 	</select>
 	<insert id="insertPet" parameterType="com.petpular.pet.model.Pet">
 		INSERT INTO `pet`
 		(
 			`user_id`
			, `pet_image_url`
			, `name`
			, `breed`
			, `sex`
			, `neuter`
			, `birthday`
			, `weight`
			, `disease`
			, `created_at`
			, `updated_at`
 		)
 		VALUES
 		(
 			#{userId}
 			, #{petImageUrl}
 			, #{name}
 			, #{breed}
 			, #{sex}
 			, #{neuter}
 			, #{birthday}
 			, #{weight}
 			, #{disease}
 			, NOW()
 			, NOW()
 		)
 	</insert>
 	<insert id="insertPetMoreInfoBySand" parameterType="map">
 		INSERT INTO `pet_more_info`
 		(
 			`user_id`
			, `pet_id`
			, `type`
			, `date`
			, `after_date`
 		)
 		VALUES
 		(
 			#{userId}
 			, #{petId}
 			, #{sandType}
 			, #{sandDate}
 			, #{sandAfterDate}
 		)
 	</insert>
 	<insert id="insertPetMoreInfoByFeed" parameterType="map">
 		INSERT INTO `pet_more_info`
 		(
 			`user_id`
			, `pet_id`
			, `type`
			, `date`
			, `after_date`
 		)
 		VALUES
 		(
 			#{userId}
 			, #{petId}
 			, #{feedType}
 			, #{feedDate}
 			, #{feedAfterDate}
 		)
 	</insert>
 </mapper>